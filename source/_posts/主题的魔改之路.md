---
title: 主题的魔改缝合之路
date: 2023-03-24 22:06:46
tags:
    blog
description: 基于Hexo的butterfly主题，开启自己的魔改之路
---
一、前言
====

看了很多很多主题模板，有的有自己动心之处，但是又不是全部让人满意；思来想去，还是自己魔改一个吧；很多功能应该是从其他地方看到了觉得好就缝合过来了
此文章可能要花很多时间才能更新完成……
（2023年3月24日）又挖了一个坑……，不过本来就是计划中的内容

二、基础框架
====


三、实现基础功能
====


四、自定义魔改缝合部分
====

主页：
---

修改subtitles：`&#44`代表逗号（源自html转义字符）
加载动画：`preloader`，具体查看：https://codebyzach.github.io/pace/

导航菜单：
```
  Home: / || fas fa-home
  Archives: /archives/ || fas fa-archive
  Tags: /tags/ || fas fa-tags
  Categories: /categories/ || fas fa-folder-open
  List||fas fa-list:
  Music: /music/ || fas fa-music
  Movie: /movies/ || fas fa-video
  Link: /link/ || fas fa-link
  About: /about/ || fas fa-heart
```
问题：怎么知道有哪些图标？自己如何创建图标？Answer: [Font Awesome](https://fontawesome.com/start 'Font Awesome') 的小图标，可以自己 DIY， 里面的免费源中寻找合适的，然后修改`fa-`后面的单词。

滚动状态百分比：
---

主题配置文件：
```
# show scroll percent in scroll-to-top button
  rightside_scroll_percent: true
```
研究下怎么魔改成自己想要的动画

Gallary相册：
---

**网上全是抄来抄去的，根本看不懂要放在哪里……**
没看懂要在哪输入，网页本身？：
```
{% gallery [lazyload],[rowHeight],[limit] %}
markdown 图片格式
{% endgallery %}
```
`lazyload`：(可选)点击按钮加载更多图片，true/false，默认false
`rowHeight`：（可选）图片显示的高度，若要一行显示更多，可设置更小的数字，默认220
`limit`：（可选）每次加载图片数量，默认10
e.g.:
```
{% gallery %}
![](https://i.loli.net/2019/12/25/Fze9jchtnyJXMHN.jpg)
![](https://i.loli.net/2019/12/25/ryLVePaqkYm4TEK.jpg)
![](https://i.loli.net/2019/12/25/gEy5Zc1Ai6VuO4N.jpg)
![](https://i.loli.net/2019/12/25/d6QHbytlSYO4FBG.jpg)
![](https://i.loli.net/2019/12/25/6nepIJ1xTgufatZ.jpg)
![](https://i.loli.net/2019/12/25/E7Jvr4eIPwUNmzq.jpg)
![](https://i.loli.net/2019/12/25/mh19anwBSWIkGlH.jpg)
![](https://i.loli.net/2019/12/25/2tu9JC8ewpBFagv.jpg)
{% endgallery %}
```
另一种方法：[应该是原始的方法](https://blog.csdn.net/weixin_42529972/article/details/109485019'不知好不好使')；

数据统计：
---
文章meta显示：显示文章相关信息，修改**主题配置文件**
```
post_meta:
  page:
    date_type: both # created or updated or both 主页文章日期是创建日或者更新日或都显示
    date_format: relative # date/relative 显示日期还是相对日期
    categories: true # true or false 主页是否显示分类
    tags: true # true or false 主页是否显示标签
    label: true # true or false 显示描述性文字
  post:
    date_type: both # created or updated or both 文章页日期是创建日或者更新日或都显示
    date_format: relative # date/relative 显示日期还是相对日期
    categories: true # true or false 文章页是否显示分类
    tags: true # true or false 文章页是否显示标签
    label: true # true or false 显示描述性文字
```
(补充一张图说明)


目前还不知道如何把访问人数的显示的前缀标题改为中文的，看教程没看懂；后面看到这个：
```
# Show PV/UV of the website/page with busuanzi.
# Get more information on http://ibruce.info/2015/04/04/busuanzi/
busuanzi_count:
  # count values only if the other configs are false
  enable: true
  # custom uv span for the whole site
  site_uv: true
  site_uv_header: 访客数
  site_uv_footer: 人
  # custom pv span for the whole site
  site_pv: true
  site_pv_header: 总访问量
  site_pv_footer: 次
  # custom pv span for one page only
  page_pv: true
  page_pv_header: <i class="fa fa-file-o"></i>  阅读数
  page_pv_footer:
```
**上述方法好像没有用！！！**
尝试换了CDN源，没有用，排除源的问题；
修改了Hexo配置的语言，修改为仅有中文也不行

字数统计：
---

打开hexo工作目录
`npm install hexo-wordcount --save`
修改主题配置文件：
```
    wordcount:
        enable: true
        post_wordcount: true
        min2read: true
        total_wordcount: true
```


配置RSS源：
---

安装hexo-generator-feed插件:`npm install hexo-generator-feed --save`
配置_config.yml,输入如下：
```
  # Extensions
  plugins:
    hexo-generator-feed
  #Feed Atom
  feed:
    type: atom
    path: atom.xml
   limit: 20
    hub:
   content:
    content_limit: 140
   content_limit_delim: ' '
    order_by: -date
```
打开主题的`_config.butterfly.yml`在`social: `下添加如下代码：` fab fa-rss: /atom.xml`
重新生成，完成


帧数统计：
---

评论：
---

Reference
====
https://butterfly.js.org/posts/21cfbf15/
https://www.jianshu.com/p/c311d31265e0


